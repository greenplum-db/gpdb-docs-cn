<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300italic,400italic,400,600' rel='stylesheet' type='text/css'>
  <!-- Use title if it's in the page YAML frontmatter -->
  <title>
      createuser |
    Greenplum Database Docs
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="/gpdb-docs-cn/stylesheets/all.css" rel="stylesheet" media="screen, print" />
  <link href="/gpdb-docs-cn/stylesheets/print.css" rel="stylesheet" media="print" />
  <link href='/gpdb-docs-cn/images/favicon.ico' rel='shortcut icon'>

  <script src="/gpdb-docs-cn/javascripts/all.js"></script>
  
</head>

<body class="x6-0 x6-0_utility_guide x6-0_utility_guide_client_utilities x6-0_utility_guide_client_utilities_createuser has-subnav">

<div class="viewport">
  <div class='wrap'>
    <script type="text/javascript">
      document.domain = "greenplum.org";
    </script>

     
  <header class="header header-layout">
    <h1 class="logo">
      <a href="/">Greenplum Database Documentation</a>
    </h1>
    
    <div class="header-links js-bar-links">
      <div class="btn-menu" data-behavior="MenuMobile"></div>
      <div class="header-item"><a href="https://greenplum.org">Back to Greenplum Database</a></div>
      <div class="header-item">
        <a href="https://github.com/greenplum-db/gpdb/wiki">Wiki</a>
      </div>
      
    </div>
  </header>


    <div class="container">

      <!--googleoff: index-->
      <div id="sub-nav" class="nav-container js-sidenav" role="navigation" >
  <a class="sidenav-title" data-behavior="SubMenuMobile">
    Doc Index
  </a>
  <div class="nav-content">
    
  <ul>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/../../gpdb-docs-cn/v6/homenav.html">Greenplum数据库® 6.0文档</a>
        

      </li>
    
      <li class="has_submenu">
        <a href="/gpdb-docs-cn/v6/utility_guide/utility_guide.html">工具指南</a>
        
  <ul>
    
      <li class="has_submenu">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/util_ref.html">管理工具参考</a>
        
  <ul>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/analyzedb.html">analyzedb</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpactivatestandby.html">gpactivatestandby</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpaddmirrors.html">gpaddmirrors</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpbackup.html">gpbackup</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpcheck.html">gpcheck</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpcheckcat.html">gpcheckcat</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpcheckperf.html">gpcheckperf</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpconfig.html">gpconfig</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpdeletesystem.html">gpdeletesystem</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpexpand.html">gpexpand</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpfdist.html">gpfdist</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpinitstandby.html">gpinitstandby</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpinitsystem.html">gpinitsystem</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpload.html">gpload</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gplogfilter.html">gplogfilter</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpmapreduce.html">gpmapreduce</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpmovemirrors.html">gpmovemirrors</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpperfmon_install.html">gpperfmon_install</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gppkg.html">gppkg</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gprecoverseg.html">gprecoverseg</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpreload.html">gpreload</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gprestore.html">gprestore</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpscp.html">gpscp</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpseginstall.html">gpseginstall</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpssh.html">gpssh</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpssh-exkeys.html">gpssh-exkeys</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpstart.html">gpstart</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpstate.html">gpstate</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpstop.html">gpstop</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/gpsys.html">gpsys1</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/pgbouncer.html">pgbouncer</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/pgbouncer-ini.html">pgbouncer.ini</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/admin_utilities/pgbouncer-admin.html">pgbouncer-admin</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/../pxf/ref/pxf.html">pxf</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/../pxf/ref/pxf-cluster.html">pxf cluster</a>
        

      </li>
    
  </ul>


      </li>
    
      <li class="has_submenu">
        <a href="/gpdb-docs-cn/v6/utility_guide/cli_ref.html">客户端工具参考</a>
        
  <ul>
    
      <li class="has_submenu">
        <a href="/gpdb-docs-cn/v6/utility_guide/client_utilities/ClientUtilitySummary.html">客户端工具摘要</a>
        
  <ul>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/client_utilities/clusterdb.html">clusterdb</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/client_utilities/createdb.html">createdb</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/client_utilities/createlang.html">createlang</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/client_utilities/createuser.html">createuser</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/client_utilities/dropdb.html">dropdb</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/client_utilities/droplang.html">droplang</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/client_utilities/dropuser.html">dropuser</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/client_utilities/pg_config.html">pg_config</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/client_utilities/pg_dump.html">pg_dump</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/client_utilities/pg_dumpall.html">pg_dumpall</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/client_utilities/pg_restore.html">pg_restore</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/client_utilities/psql.html">psql</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/client_utilities/reindexdb.html">reindexdb</a>
        

      </li>
    
      <li class="">
        <a href="/gpdb-docs-cn/v6/utility_guide/client_utilities/vacuumdb.html">vacuumdb</a>
        

      </li>
    
  </ul>


      </li>
    
  </ul>


      </li>
    
      <li class="has_submenu">
        <a href="/gpdb-docs-cn/v6/utility_guide/contrib-programs.html">附加程序</a>
        
  <ul>
    
      <li class="">
        <a href="https://www.postgresql.org/docs/9.4/pgupgrade.html">pg_upgrade</a>
        

      </li>
    
      <li class="">
        <a href="https://www.postgresql.org/docs/9.4/pgxlogdump.html">pg_xlogdump</a>
        

      </li>
    
  </ul>


      </li>
    
  </ul>


      </li>
    
  </ul>


  </div>
</div>

      <!--googleon: index-->

      <main class="content content-layout" id="js-content" role="main">
        <a id="top"></a>
        
          <h1 class="title-container" style="display: none;">
    createuser
  </h1>

          <div id="js-quick-links" >
            
          </div>
        <div class="to-top" id="js-to-top">
          <a href="#top" title="back to top"></a>
        </div>
        

    <h1 class="title topictitle1">createuser</h1>

    <div class="body">
        <p class="p" id="topic1__client_util_desc">创建一个新的数据库角色。</p>

        <div class="section" id="topic1__section2">
<h2 class="title sectiontitle">概要</h2>
            
            <pre class="pre codeblock" id="topic1__client_util_synopsis"><strong class="ph b">createuser</strong> [<var class="keyword varname">connection-option</var> ...] [<var class="keyword varname">role_attribute</var> ...] [<strong class="ph b">-e</strong>] <var class="keyword varname">role_name</var>

<strong class="ph b">createuser</strong> <strong class="ph b">-? | --help</strong> 

<strong class="ph b">createuser</strong> <strong class="ph b">-V | --version</strong></pre>

        </div>

        <div class="section" id="topic1__section3">
<h2 class="title sectiontitle">描述</h2>
            
            <p class="p"><samp class="ph codeph">createuser</samp>创建一个新的Greenplum数据库角色。
                您必须是超级用户或具有<samp class="ph codeph">CREATEROLE</samp>权限才能创建新角色。
                您必须以超级用户身份连接到数据库才能创建新的超级用户。
            </p>

            <p class="p">超级用户可以绕过数据库中的所有访问权限检查，因此不应轻易授予超级用户特权。
            </p>

            <p class="p"><samp class="ph codeph">createuser</samp>是SQL命令<samp class="ph codeph">CREATE ROLE</samp>的包装。
            </p>

        </div>

        <div class="section" id="topic1__section4">
<h2 class="title sectiontitle">选项</h2>
            
            <dl class="dl parml">
                
                    <dt class="dt pt dlterm">role_name</dt>

                    <dd class="dd pd">要创建的角色的名称。
                        此名称必须不同于该Greenplum数据库安装中的所有现有角色。
                    </dd>

                
                
                    <dt class="dt pt dlterm">-c <var class="keyword varname">number</var> | --connection-limit=<var class="keyword varname">number</var>
                    </dt>

                    <dd class="dd pd">设置新角色的最大连接数。默认设置为无限制。
                    </dd>

                
                
                    <dt class="dt pt dlterm">-d | --createdb</dt>

                    <dd class="dd pd">新角色将被允许创建数据库。</dd>

                
                
                    <dt class="dt pt dlterm">-D | --no-createdb</dt>

                    <dd class="dd pd">不允许新角色创建数据库。这是默认值。
                    </dd>

                
                
                    <dt class="dt pt dlterm">-e | --echo</dt>

                    <dd class="dd pd">回显<samp class="ph codeph">createuser</samp>生成并发送到服务器的命令。
                    </dd>

                
                
                    <dt class="dt pt dlterm">-E | --encrypted</dt>

                    <dd class="dd pd">加密存储在数据库中的角色密码。
                        如果未指定，则使用默认密码行为。
                    </dd>

                
                
                    <dt class="dt pt dlterm">-i | --inherit</dt>

                    <dd class="dd pd">新角色将自动继承其成员角色的特权。这是默认值。
                    </dd>

                
                
                    <dt class="dt pt dlterm">-I | --no-inherit</dt>

                    <dd class="dd pd">新角色将不会自动继承其成员角色的特权。
                    </dd>

                
                
                    <dt class="dt pt dlterm">--interactive</dt>

                    <dd class="dd pd">如果在命令行上未指定用户名，则提示输入用户名，
                        并提示在命令行中未指定选项<samp class="ph codeph">-d</samp>/<samp class="ph codeph">-D</samp>，
                        <samp class="ph codeph">-r</samp>/<samp class="ph codeph">-R</samp>，<samp class="ph codeph">-s</samp>/<samp class="ph codeph">-S</samp>中的任何一个。
                    </dd>

                
                
                    <dt class="dt pt dlterm">-l | --login</dt>

                    <dd class="dd pd">新角色将被允许登录Greenplum数据库。这是默认值。</dd>

                
                
                    <dt class="dt pt dlterm">-L | --no-login</dt>

                    <dd class="dd pd">新角色将不允许登录（组级别角色）。</dd>

                
                
                    <dt class="dt pt dlterm">-N | --unencrypted</dt>

                    <dd class="dd pd">不加密存储在数据库中的角色密码。如果未指定，则使用默认密码行为。
                    </dd>

                
                
                    <dt class="dt pt dlterm">-P | --pwprompt</dt>

                    <dd class="dd pd">如果提供，则<samp class="ph codeph">createuser</samp>将提示输入新角色的密码。
                        如果您不打算使用密码身份验证，则没有必要。
                    </dd>

                
                
                    <dt class="dt pt dlterm">-r | --createrole</dt>

                    <dd class="dd pd">新角色将被允许创建新角色（<samp class="ph codeph">CREATEROLE</samp>特权）。
                    </dd>

                
                
                    <dt class="dt pt dlterm">-R | --no-createrole</dt>

                    <dd class="dd pd">新角色将不允许创建新角色。这是默认值。</dd>

                
                
                    <dt class="dt pt dlterm">-s | --superuser</dt>

                    <dd class="dd pd">新角色将是超级用户。</dd>

                
                
                    <dt class="dt pt dlterm">-S | --no-superuser</dt>

                    <dd class="dd pd">新角色将不是超级用户。这是默认值。</dd>

                
                
                    <dt class="dt pt dlterm">-V | --version</dt>

                    <dd class="dd pd">打印<samp class="ph codeph">createuser</samp>版本并退出。
                    </dd>

                
                
                    <dt class="dt pt dlterm">--replication</dt>

                    <dd class="dd pd">新用户将具有<samp class="ph codeph">REPLICATION</samp>特权，有关<a class="xref" href="../../ref_guide/sql_commands/CREATE_ROLE.html#topic1">CREATE ROLE</a>的文档中对此进行了更详细的描述。
                    </dd>

                
                
                    <dt class="dt pt dlterm">--no-replication</dt>

                    <dd class="dd pd">新用户将没有<samp class="ph codeph">REPLICATION</samp>特权，有关<a class="xref" href="../../ref_guide/sql_commands/CREATE_ROLE.html#topic1">CREATE ROLE</a>的文档中对此进行了更详细的描述。
                    </dd>

                
                
                    <dt class="dt pt dlterm">-? | --help</dt>

                    <dd class="dd pd">显示有关<samp class="ph codeph">createuser</samp>命令行参数的帮助，然后退出。
                    </dd>

                
            </dl>

            <div class="sectiondiv">
                <strong class="ph b">连接选项</strong>
                <dl class="dl parml">
                    
                        <dt class="dt pt dlterm">-h <var class="keyword varname">host</var> | --host=<var class="keyword varname">host</var>
                        </dt>

                        <dd class="dd pd">运行Greenplum master数据库服务器的计算机的主机名。
                            如果未指定，则从环境变量<samp class="ph codeph">PGHOST</samp>读取或默认为localhost。
                        </dd>

                    
                    
                        <dt class="dt pt dlterm">-p <var class="keyword varname">port</var> | --port=<var class="keyword varname">port</var>
                        </dt>

                        <dd class="dd pd">Greenplum master数据库服务器正在侦听连接的TCP端口。
                            如果未指定，则从环境变量<samp class="ph codeph">PGPORT</samp>读取或默认为5432。
                        </dd>

                    
                    
                        <dt class="dt pt dlterm">-U <var class="keyword varname">username</var> | --username=<var class="keyword varname">username</var>
                        </dt>

                        <dd class="dd pd">要用作连接的数据库角色名称。
                            如果未指定，则从环境变量<samp class="ph codeph">PGUSER</samp>读取或默认为当前系统角色名称。
                        </dd>

                    
                    
                        <dt class="dt pt dlterm">-w | --no-password</dt>

                        <dd class="dd pd">不发出密码提示。
                            如果服务器要求密码验证，而其他方式（例如<samp class="ph codeph">.pgpass</samp>文件）无法使用密码，则连接尝试将失败。
                            此选项在没有用户输入密码的批处理作业和脚本中很有用。
                        </dd>

                    
                    
                        <dt class="dt pt dlterm">-W | --password</dt>

                        <dd class="dd pd">强制输入密码提示。</dd>

                    
                </dl>

            </div>
        </div>

        <div class="section" id="topic1__section6">
<h2 class="title sectiontitle">示例</h2>
            
            <div class="p">要在默认数据库服务器上创建角色<samp class="ph codeph">joe</samp>：
                <pre class="pre codeblock">$ <strong class="ph b">createuser joe</strong></pre>

            </div>

            <p class="p">要在默认数据库服务器上创建角色<samp class="ph codeph">joe</samp>并提示一些其他属性：
            </p>

            <pre class="pre codeblock">$ <strong class="ph b">createuser --interactive joe</strong>
Shall the new role be a superuser? (y/n) <strong class="ph b">n</strong>
Shall the new role be allowed to create databases? (y/n) <strong class="ph b">n</strong>
Shall the new role be allowed to create more new roles? (y/n) <strong class="ph b">n</strong>
CREATE ROLE</pre>

            <p class="p">要使用连接选项来创建相同的角色<samp class="ph codeph">joe</samp>，并显式指定属性，然后查看基本命令：
            </p>

            <pre class="pre codeblock"><strong class="ph b">createuser -h masterhost -p 54321 -S -D -R -e joe</strong>
CREATE ROLE joe NOSUPERUSER NOCREATEDB NOCREATEROLE INHERIT
LOGIN;
CREATE ROLE</pre>

            <p class="p">要将角色<samp class="ph codeph">joe</samp>创建为超级用户，并立即分配密码<samp class="ph codeph">admin123</samp>：
            </p>

            <pre class="pre codeblock"><strong class="ph b">createuser -P -s -e joe</strong>
Enter password for new role: <strong class="ph b">admin123</strong>
Enter it again: <strong class="ph b">admin123</strong>
CREATE ROLE joe PASSWORD 'admin123' SUPERUSER CREATEDB 
CREATEROLE INHERIT LOGIN;
CREATE ROLE</pre>

            <p class="p">在上面的示例中，键入时实际上并未回显新密码，但是为了清楚起见，我们显示了键入的内容。
                但是，密码将显示在echoed命令中，如使用<samp class="ph codeph">-e</samp>选项所示。
            </p>

        </div>

        <div class="section" id="topic1__section7">
<h2 class="title sectiontitle">另见</h2>
            
            <p class="p">
                
                <span class="ph">
                    <samp class="ph codeph">
                        <a class="xref" href="../../ref_guide/sql_commands/CREATE_ROLE.html#topic1">CREATE ROLE</a>
                    </samp>
                    ,
                    <samp class="ph codeph">
                        <a class="xref" href="dropuser.html#topic1">dropuser</a>
                    </samp>
                </span>
            </p>

        </div>

    </div>



        

      </main>
    </div>
  </div>
</div>

<div id="scrim"></div>

<div class="container">
  <footer class="site-footer-links">
    
  </footer>
</div><!--end of container-->

</body>
</html>
